import{u as t,j as i}from"./index-7DuL9cC_.js";const n={title:"How does it work?",description:"undefined"};function h(e){const s={a:"a",code:"code",div:"div",figcaption:"figcaption",figure:"figure",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",...t(),...e.components};return i.jsxs(i.Fragment,{children:[i.jsx(s.header,{children:i.jsxs(s.h1,{id:"how-does-it-work",children:["How does it work?",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-does-it-work",children:i.jsx(s.div,{"data-autolink-icon":!0})})]})}),`
`,i.jsxs(s.p,{children:["This is for the curious minds who want to know how ",i.jsx(s.code,{children:"next-yak"}),` works under the hood and it's not necessary
to understand it in order to use it.`]}),`
`,i.jsxs(s.h2,{id:"the-basics",children:["The basics",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-basics",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:[i.jsx(s.code,{children:"next-yak"})," has 3 parts:"]}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsx(s.li,{children:"The compile time part"}),`
`,i.jsx(s.li,{children:"The runtime part"}),`
`,i.jsx(s.li,{children:"Optional: Context"}),`
`]}),`
`,i.jsx(s.p,{children:`The compile time part is responsible for extracting styles and transforming your code into something that uses
the runtime part. The runtime part is responsible for merging styles and props.`}),`
`,i.jsxs(s.h2,{id:"the-compile-time-part",children:["The compile time part",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-compile-time-part",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:[i.jsx(s.code,{children:"next-yak"}),` uses two webpack loaders to transform your code. The first loader is responsible for transforming the
usages of the tagged template literals (like `,i.jsx(s.code,{children:"styled"})," and ",i.jsx(s.code,{children:"css"}),`) and the second loader is responsible for transforming
the styles into real CSS.`]}),`
`,i.jsxs(s.h3,{id:"the-first-loader-tsloadercjs",children:["The first loader ",i.jsx(s.a,{href:"https://github.com/jantimon/next-yak/blob/main/packages/next-yak/loaders/tsloader.cjs",children:"(tsloader.cjs)"}),i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-first-loader-tsloadercjs",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:["The first loader takes in the source code and transforms the tagged template literals into ",i.jsx(s.code,{children:"next-yak"}),` runtime function
calls with the imported styles (from the second loader) as arguments. It also transforms the dynamic parts of the
tagged template literals into function calls with the properties as argument and adds it as css value to the style object.`]}),`
`,i.jsxs(s.h4,{id:"add-style-import",children:["Add style import",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#add-style-import",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:`The first step of the transformation is to add the import statement for the styles. These styles don't exist yet, but
will be generated by the second loader.`}),`
`,i.jsxs(s.figure,{"data-rehype-pretty-code-figure":"",children:[i.jsx(s.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"output"}),i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsx(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" __styleYak "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./page.yak.module.css!=!./page?./page.yak.module.css"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})})})]}),`
`,i.jsxs(s.p,{children:["This strange looking import string is a poorly documented feature of webpack. It uses the ",i.jsx(s.a,{href:"https://webpack.js.org/api/loaders/#inline-matchresource",children:"Inline matchResource"})," to instrument webpack to use the loaders as if it was a normal ",i.jsx(s.code,{children:".module.css"}),` file
that points to the current file (`,i.jsx(s.code,{children:"./page"}),`). In order that this import statement works in next.js, we need to add
a query parameter that ends with `,i.jsx(s.code,{children:".module.css"}),", as this is the way next.js recognizes CSS modules."]}),`
`,i.jsxs(s.p,{children:["So that means ",i.jsx(s.code,{children:"./page.yak.module.css"}),` is a virtual file that is generated by the second loader and contains the
styles of the current file. `,i.jsx(s.code,{children:"./page.yak.module.css!=!./page"})," says that the second loader (matching ",i.jsx(s.code,{children:".yak.module.css"}),` files) should
be used with the current file as input. Lastly `,i.jsx(s.code,{children:"?./page.yak.module.css"}),` is the query parameter that tells next.js that this
is a CSS module and it's loaders should be used.`]}),`
`,i.jsxs(s.h4,{id:"transform-tagged-template-literals",children:["Transform tagged template literals",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transform-tagged-template-literals",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:["As the next step, the tagged template literals are transformed into ",i.jsx(s.code,{children:"next-yak"}),` runtime function calls. The static
CSS parts are passed as references to the class names from the "not yet generated" css module file.`]}),`
`,i.jsxs(s.div,{className:"code-group",children:[i.jsx(s.div,{"data-title":"input",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-size: 2rem;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-weight: bold;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  color: blue;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  &:hover {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    color: red;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  }"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),i.jsx(s.div,{"data-title":"output",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" __styleYak "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./page.yak.module.css!=!./page?./page.yak.module.css"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(__styleYak.Button); "})]})]})})})})]}),`
`,i.jsx(s.p,{children:`The dynamic parts are preserved and apply the classes or CSS variables at runtime. There are two different types
of dynamic parts: The first type is the dynamic CSS property value (color in the following example) and the second type is the dynamic CSS property itself (background in the following example).`}),`
`,i.jsx(s.p,{children:"The property value is transformed into a CSS variable and set on the element itself directly based on the functions return value."}),`
`,i.jsx(s.p,{children:"The property itself is transformed into a class name that is referenced during runtime when the function returns them."}),`
`,i.jsxs(s.div,{className:"code-group",children:[i.jsx(s.div,{"data-title":"input",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled, css } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	font-size: 2rem;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	font-weight: bold;"})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	color: ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "white"'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	${"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: black;`"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: white;`}"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    &:hover {"})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"		color: ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "red"'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	}"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),i.jsx(s.div,{"data-title":"output",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled, css } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" __styleYak "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./page.yak.module.css!=!./page?./page.yak.module.css"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	__styleYak.Button, "})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"	props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props.$primary "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(__styleYak.propsprimary_0) "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(__styleYak.not_propsprimary_1), "})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	{"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'      "style"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'        "--'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#005CC5"},children:"\\uD83E\\uDDAC"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'18fi82j0"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props.$primary "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "white"'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", "})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'        "--'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#005CC5"},children:"\\uD83E\\uDDAC"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'18fi82j1"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props.$primary "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "red"'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"      }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"});"})})]})})})})]}),`
`,i.jsxs(s.h3,{id:"the-second-loader-cssloadercjs",children:["The second loader ",i.jsx(s.a,{href:"https://github.com/jantimon/next-yak/blob/main/packages/next-yak/loaders/cssloader.cjs",children:"(cssloader.cjs)"}),i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-second-loader-cssloadercjs",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:`The second loader runs after the first loader changed the import, takes in the styles and transforms it into real
CSS inside CSS-Modules. It also generates a class name for each static and dynamic style in order to reference it in the first loader. It translates dynamic property values into CSS variables and adds it to the class selector.`}),`
`,i.jsxs(s.h4,{id:"remove-imports",children:["Remove imports",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#remove-imports",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:"The first step of the transformation is to remove all import statements as the input is the normal JS file and we need to output a CSS file."}),`
`,i.jsxs(s.h4,{id:"transform-static-styles",children:["Transform static styles",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transform-static-styles",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:`The static styles are transformed into CSS classes. The class names are generated based on the component name and referenced
in the first loader.`}),`
`,i.jsxs(s.div,{className:"code-group",children:[i.jsx(s.div,{"data-title":"input",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-size: 2rem;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  font-weight: bold;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  color: blue;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  &:hover {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    color: red;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"  }"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),i.jsx(s.div,{"data-title":"output",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"css","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"css","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:".Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"  font-size"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"2"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"rem"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"  font-weight"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"bold"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"  color"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"blue"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  &:hover {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"    color"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"red"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})})})]}),`
`,i.jsxs(s.h4,{id:"transform-dynamic-styles",children:["Transform dynamic styles",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#transform-dynamic-styles",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:["The dynamic property styles are transformed into nested ",i.jsx(s.code,{children:":where"}),` selectors that don't alter the specificity of the selector. The class names are generated based on the condition of the properties and used in the first loader. For dynamic property
values, the value is transformed into a CSS variable.`]}),`
`,i.jsxs(s.div,{className:"code-group",children:[i.jsx(s.div,{"data-title":"input",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{className:"has-focused",tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { styled, css } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" styled."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"button"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	font-size: 2rem;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	font-weight: bold;"})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	color: ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "white"'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	${"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: black;`"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" css"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`background: white;`}"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"    &:hover {"})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"		color: ${"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"props"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" props"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"."}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"$primary"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ?"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "red"'}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" :"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "blue"};'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"	}"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"`"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]})]})})})}),i.jsx(s.div,{"data-title":"output",children:i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{className:"has-focused",tabIndex:"0","data-language":"css","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"css","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:".Button"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"	font-size"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"2"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"rem"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"	font-weight"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"bold"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"	color"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"var"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"--ðŸ¦¬18fi82j0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"); "})]}),`
`,i.jsx(s.span,{className:"focused","data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	&:where(.propsprimary_0) { "})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"		background"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"black"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"; "})]}),`
`,i.jsx(s.span,{className:"focused","data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	} "})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	&"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:":where"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:".not_propsprimary_1"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:") { "})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"		background"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"white"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"; "})]}),`
`,i.jsx(s.span,{className:"focused","data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	} "})}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	&"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:":hover"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { "})]}),`
`,i.jsxs(s.span,{className:"focused","data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"		color"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"var"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"--ðŸ¦¬18fi82j1"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"); "})]}),`
`,i.jsx(s.span,{className:"focused","data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	} "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})})})]}),`
`,i.jsxs(s.h2,{id:"the-runtime-part",children:["The runtime part",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#the-runtime-part",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:"The runtime part is responsible for merging styles and props. It's a simple function that takes in the styles and the props and returns the merged styles."}),`
`,i.jsxs(s.p,{children:["See: ",i.jsx(s.a,{href:"https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/styled.tsx",children:"Styled function"})]}),`
`,i.jsx(s.p,{children:"A lot of this code is types and comments to indicate why certain things are done. The actual runtime code is very small."}),`
`,i.jsxs(s.h2,{id:"context",children:["Context",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#context",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:`The yak theme context allows you to configure the theme of your yak application. It works for react-server components
and normal react components.`}),`
`,i.jsx(s.p,{children:"The first part of the puzzle is to export two different modules for the server and the client."}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"json","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"json","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./context"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'	"react-server"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'		"import"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.server.js"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'		"require"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.server.cjs"'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	},"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'	"default"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'		"import"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.js"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:","})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:'		"require"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:": "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"./dist/context/index.cjs"'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	}"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})}),`
`,i.jsx(s.p,{children:"For the client components, we use the default context from react."}),`
`,i.jsxs(s.figure,{"data-rehype-pretty-code-figure":"",children:[i.jsx(s.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"client: index.tsx"}),i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"use client"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// This file is the client component (browser & ssr) version of index.server.tsx"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" React, { ReactNode, createContext, useContext } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "react"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {}"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"/**"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * The yak theme context"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"@see"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/context/README.md"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" */"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" YakContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" createContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:"YakTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">({});"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"/**"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * Returns the current yak theme context"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" *"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"@see"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/context/README.md"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" */"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" useTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ()"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" =>"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" useContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(YakContext);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"/**"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * Yak theme context provider"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" *"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" * "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"@see"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" https://github.com/jantimon/next-yak/blob/main/packages/next-yak/runtime/context/README.md"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" */"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" YakThemeProvider"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ({"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  children,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  theme "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {},"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"  children"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" ReactNode"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"  theme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"?:"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}) "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" <"}),i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakContext.Provider"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:" value"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"{"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"theme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"{"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"children"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"</"}),i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakContext.Provider"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">;"})]})]})})]}),`
`,i.jsxs(s.p,{children:["For the server components, we use a module that exports exactly the same API as the one for client components, but with a different implementation where we use the ",i.jsx(s.code,{children:"cache"})," function from react to cache the result of the context."]}),`
`,i.jsxs(s.figure,{"data-rehype-pretty-code-figure":"",children:[i.jsx(s.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"server: index.server.tsx"}),i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// This file is the react-server component version of index.tsx"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"//"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:'// @ts-ignore - in the current @types/react "cache" is not typed'})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" React, { ReactNode, cache } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "react"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { YakThemeProvider "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"as"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" YakThemeClientProvider } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "./index.js"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// the following import might be changed by"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// the user config in withYak to point to their own"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// context"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { getYakThemeContext } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak/context/baseContext"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" useTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" cache"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(() "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" getYakThemeContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"());"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" const"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" YakThemeProvider"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ({ "}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"children"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" }"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { "}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#E36209"},children:"children"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:":"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" ReactNode"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" }) "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"  return"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" ("})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    <"}),i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakThemeClientProvider"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:" theme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"{"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"useTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"      {"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"children"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#24292E"},children:"}"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    </"}),i.jsx(s.span,{style:{"--shiki-dark":"#8DDB8C","--shiki-light":"#005CC5"},children:"YakThemeClientProvider"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:">"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"  );"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"};"})})]})})]}),`
`,i.jsxs(s.p,{children:["The ",i.jsx(s.code,{children:"getYakThemeContext"})," function is imported from the user's ",i.jsx(s.code,{children:"yak.context.ts"})," file. This file is a regular typescript file that exports a function that returns the theme context. You can use every api that works with server components like ",i.jsx(s.a,{href:"https://nextjs.org/docs/app/api-reference/functions/headers",children:"headers"})," or ",i.jsx(s.a,{href:"https://nextjs.org/docs/app/api-reference/functions/cookies",children:"cookies"}),` and use them
to determine your values for the theme context.`]}),`
`,i.jsxs(s.figure,{"data-rehype-pretty-code-figure":"",children:[i.jsx(s.figcaption,{"data-rehype-pretty-code-title":"","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:"yak.context.ts"}),i.jsx(s.pre,{tabIndex:"0","data-language":"tsx","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"tsx","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { cookies } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:" 'next/headers'"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"import"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" { cache } "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"from"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "react"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:";"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" hasHighContrast"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" cache"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(() "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=>"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" cookieStore"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" cookies"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    return"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" cookieStore."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"get"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:'"highContrast"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:")?.value "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"==="}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "true"'})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"});"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" function"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" getYakThemeContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"() {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    return"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        highContrast: "}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"hasHighContrast"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"declare"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" module"}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:' "next-yak"'}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"    export"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" interface"}),i.jsx(s.span,{style:{"--shiki-dark":"#F69D50","--shiki-light":"#6F42C1"},children:" YakTheme"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" extends"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#6F42C1"},children:" ReturnType"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"typeof"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" getYakThemeContext> { }"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})]}),`
`,i.jsxs(s.p,{children:["The second part of the puzzle is that the ",i.jsx(s.code,{children:"withYak"}),` function changes to what file webpack resolves the context so that
it points to the individual `,i.jsx(s.code,{children:"yak.context.ts"})," file in the root directory."]}),`
`,i.jsxs(s.figure,{"data-rehype-pretty-code-figure":"",children:[i.jsx(s.figcaption,{"data-rehype-pretty-code-title":"","data-language":"ts","data-theme":"github-dark-dimmed github-light",children:"withYak/index.ts"}),i.jsx(s.pre,{tabIndex:"0","data-language":"ts","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"ts","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// With the following alias the internal next-yak code "})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"// is able to import a context which works for server components"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"const"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:" yakContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:" ="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" resolveYakContext"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(yakOptions.contextPath, webpackConfig.context);"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"if"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" (yakContext) {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"	webpackConfig.resolve.alias["}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'next-yak/context/baseContext'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"] "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" yakContext;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})]})]})}function l(e={}){const{wrapper:s}={...t(),...e.components};return s?i.jsx(s,{...e,children:i.jsx(h,{...e})}):h(e)}export{l as default,n as frontmatter};
